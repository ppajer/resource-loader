function ResourceLoader(a){this.resourcesToLoad=a.resources||[],this.loadOnReady=!!a.onReady,this.loadedResources=[],this.attachEventHandler=function(){"complete"===document.readyState&&this.preload()},this.addEventListenerHandler=function(a){this.preload()},this.bindLoad=function(){this.loadOnReady?document.addEventListener?document.addEventListener("DOMContentLoaded",this.addEventListenerHandler):document.attachEvent("onreadystatechange",this.attachEventHandler):window.onload=this.preload},this.preload=function(){for(var a=0;a<this.resourcesToLoad.length;a++)this.load(this.resourcesToLoad[a])},this.load=function(a){var b;return"image"===a.type&&(b=new Image,b.src=a.url),"css"===a.type&&(b=document.createElement("style"),b.type="text/css",b.href=a.url),"js"===a.type&&(b=document.createElement("script"),b.type="text/javascript",b.src=a.url),this.loadedResources.push(b),b},this.bindLoad()}
